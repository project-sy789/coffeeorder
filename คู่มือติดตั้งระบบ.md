# คู่มือติดตั้งระบบร้านคาเฟ่ POS

คู่มือนี้จะแนะนำวิธีการติดตั้งระบบ POS สำหรับร้านคาเฟ่ของคุณแบบง่าย ผ่านเว็บแอปพลิเคชัน

## วิธีการติดตั้ง

### ติดตั้งผ่าน Web Interface (แนะนำ)

1. เข้าไปที่ URL: `https://your-domain.com/install` หรือ `http://localhost:5000/install` (สำหรับการพัฒนา)
2. ทำตามขั้นตอนในระบบติดตั้งอัตโนมัติ:
   - ระบบจะตรวจสอบความพร้อมของเซิร์ฟเวอร์
   - กรอกข้อมูลการเชื่อมต่อฐานข้อมูล PostgreSQL
   - กรอกข้อมูลร้านคาเฟ่และสร้างบัญชีผู้ดูแลระบบ
3. ระบบจะสร้างฐานข้อมูลและตั้งค่าเริ่มต้นให้โดยอัตโนมัติ

## ข้อกำหนดของระบบ

- Node.js 16.0.0 หรือสูงกว่า
- PostgreSQL 12.0 หรือสูงกว่า
- NPM 8.0.0 หรือสูงกว่า

## การแก้ไขปัญหาเบื้องต้น

### ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้

1. ตรวจสอบว่า PostgreSQL กำลังทำงานอยู่
2. ตรวจสอบรายละเอียดการเชื่อมต่อ (host, port, username, password) ในไฟล์ `.env.local`
3. ตรวจสอบว่าได้สร้างฐานข้อมูลแล้ว

### ปัญหาการเข้าสู่ระบบ

หากมีปัญหาในการเข้าสู่ระบบ คุณสามารถใช้เครื่องมือแก้ไขปัญหาออนไลน์:

1. เข้าไปที่ URL: `https://your-domain.com/auth-fix` หรือ `http://localhost:5000/auth-fix`
2. คลิกปุ่ม "แก้ไขปัญหาการเข้าสู่ระบบ" เพื่อซ่อมแซมบัญชีผู้ใช้ที่มีปัญหา
3. ระบบจะรีเซ็ตรหัสผ่านเป็น `admin123` สำหรับบัญชีที่มีปัญหา

## การ Deploy

### การ Deploy บน Render.com

1. สร้าง Web Service ใหม่บน Render.com โดยเชื่อมต่อกับ repository ของคุณ
2. ตั้งค่า environment variables ที่จำเป็น:
   - `DATABASE_URL`: ชุดการเชื่อมต่อฐานข้อมูล PostgreSQL
   - `PORT`: 10000 (หรือพอร์ตที่คุณต้องการ)
   - `NODE_ENV`: production
3. กำหนด Build Command: `npm install && npm run build`
4. กำหนด Start Command: `npm run start`
5. หลังจาก deploy สำเร็จ ให้เข้าไปที่ `https://your-app.onrender.com/install` เพื่อเริ่มกระบวนการติดตั้ง

### การ Deploy บน Railway

1. สร้าง Project ใหม่บน Railway โดยเชื่อมต่อกับ repository ของคุณ
2. เพิ่ม PostgreSQL add-on
3. ตั้งค่า environment variables เพิ่มเติมตามต้องการ
4. หลังจาก deploy สำเร็จ ให้เข้าไปที่ `https://your-app-name.railway.app/install` เพื่อเริ่มกระบวนการติดตั้ง

## การอัปเดต

การอัปเดตระบบสามารถทำได้โดย:

1. Backup ฐานข้อมูลก่อนอัปเดต
2. อัปเดต code ของคุณจาก repository
3. Deploy อีกครั้งบนแพลตฟอร์มที่คุณใช้ (Render หรือ Railway)

## การสำรองข้อมูล

ควรสำรองข้อมูลเป็นประจำ โดยคุณสามารถใช้การสำรองข้อมูลอัตโนมัติที่มีในแพลตฟอร์ม:
- Render.com: ใช้ Database Backups
- Railway: ใช้ Postgres Backups

## การติดต่อสอบถาม

หากมีปัญหาในการติดตั้งหรือใช้งาน สามารถติดต่อผู้พัฒนาได้